{* one review output *}

{if !empty($ajax_append)}<li data-id={$review.id} data-parent-id="{$review.parent_id}">{/if}

<section class="flex-wrap flex-wrap-wrap item__reviews-body">
    <div class="item__reviews-box"></div>
    <div class="flex-grow-2 item__reviews-text" itemprop="review" itemscope itemtype="http://schema.org/Review">
        
        <section class="flex-wrap flex-wrap-wrap justify-content flex-align-items-baseline">
            <div class="fw-bold" itemprop="name">
                {if $review.title}{$review.title}{/if}
                [`By`]
             {if empty($review.site)}
                <span class="small" itemprop="author">|&nbsp;{$review.author.name}</span>
                {else}
                <a href="{$review.site}" class="small" itemprop="author">{$review.author.name}</a>
             {/if} 
            </div>
            <div>
                <meta itemprop="datePublished" content="{$review.datetime|date_format:'Y-m-d'}">
                <span class="small" title="{$review.datetime|wa_datetime}">{$review.datetime|wa_datetime:"humandatetime"}</span>
            </div>
        </section>
        
        {if $review.text}
            <p itemprop="description">{$review.text}</p>
        {/if}
        
        {if $reply_allowed}
            <div class="actions">
                <a href="{if isset($reply_link)}{$reply_link}{else}#{/if}" class="review-reply inline-link"><b><i>[`reply`]</i></b></a>
            </div>
        {/if}
    </div>
    
    {if !empty($ajax_append)}<ul class="menu-v with-icons reviews-branch"></ul></li>{/if}

</section>
